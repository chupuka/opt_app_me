@model ProForm.Models.Trainer
@{
    ViewData["Title"] = "Карточка тренера";
}

<div class="container-fluid">
    <h1>Карточка тренера</h1>
    <hr />

    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <dl class="row">
                        <dt class="col-sm-4">ФИО:</dt>
                        <dd class="col-sm-8">@Model.FullName</dd>

                        <dt class="col-sm-4">Телефон:</dt>
                        <dd class="col-sm-8">@Model.Phone</dd>

                        <dt class="col-sm-4">Email:</dt>
                        <dd class="col-sm-8">@(Model.Email ?? "Не указан")</dd>

                        <dt class="col-sm-4">Специализация:</dt>
                        <dd class="col-sm-8">@(Model.Specialization ?? "Не указана")</dd>

                        <dt class="col-sm-4">Статус:</dt>
                        <dd class="col-sm-8">
                            <span class="badge @(Model.Status == TrainerStatus.Active ? "bg-success" : "bg-secondary")">
                                @(Model.Status == TrainerStatus.Active ? "Активен" : "Неактивен")
                            </span>
                        </dd>
                    </dl>
                    @if (User.IsInRole("Admin"))
                    {
                        <div class="mt-3">
                            <a asp-action="Edit" asp-route-id="@Model.TrainerId" class="btn btn-warning">Редактировать</a>
                            <a asp-action="Index" class="btn btn-secondary">Назад к списку</a>
                        </div>
                    }
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>Рабочий график</h5>
                </div>
                <div class="card-body">
                    @if (Model.Schedules.Any())
                    {
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>День недели</th>
                                    <th>Время</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var schedule in Model.Schedules.OrderBy(s => s.DayOfWeek))
                                {
                                    <tr>
                                        <td>@schedule.DayOfWeek</td>
                                        <td>@schedule.StartTime.ToString(@"hh\:mm") - @schedule.EndTime.ToString(@"hh\:mm")</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p class="text-muted">График не установлен</p>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

